
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Libro API"
        >
    <title>Libro API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-a52a9488.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-024da600.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-fd159581.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">cURL</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#libro-api" class="toc-h1 toc-link" data-title="Libro API">Libro API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#base-urls" class="toc-h2 toc-link" data-title="Base URLs">Base URLs</a>
                  </li>
                  <li>
                    <a href="#api-overview" class="toc-h2 toc-link" data-title="API Overview">API Overview</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api-architecture" class="toc-h2 toc-link" data-title="API Architecture">API Architecture</a>
                  </li>
                  <li>
                    <a href="#getting-api-access" class="toc-h2 toc-link" data-title="Getting API Access">Getting API Access</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication-methods" class="toc-h2 toc-link" data-title="Authentication Methods">Authentication Methods</a>
                  </li>
                  <li>
                    <a href="#step-1-implement-the-authorization-request" class="toc-h2 toc-link" data-title="Step 1: Implement the Authorization Request">Step 1: Implement the Authorization Request</a>
                  </li>
                  <li>
                    <a href="#step-2-handle-the-callback" class="toc-h2 toc-link" data-title="Step 2: Handle the Callback">Step 2: Handle the Callback</a>
                  </li>
                  <li>
                    <a href="#step-3-exchange-the-authorization-code-for-an-access-token" class="toc-h2 toc-link" data-title="Step 3: Exchange the Authorization Code for an Access Token">Step 3: Exchange the Authorization Code for an Access Token</a>
                  </li>
                  <li>
                    <a href="#step-4-make-authenticated-requests" class="toc-h2 toc-link" data-title="Step 4: Make Authenticated Requests">Step 4: Make Authenticated Requests</a>
                  </li>
                  <li>
                    <a href="#step-5-handle-token-expiration" class="toc-h2 toc-link" data-title="Step 5: Handle Token Expiration">Step 5: Handle Token Expiration</a>
                  </li>
                  <li>
                    <a href="#error-handling" class="toc-h2 toc-link" data-title="Error Handling">Error Handling</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#restaurants" class="toc-h1 toc-link" data-title="Restaurants">Restaurants</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-restaurant-object" class="toc-h2 toc-link" data-title="The Restaurant Object">The Restaurant Object</a>
                  </li>
                  <li>
                    <a href="#get-restaurant" class="toc-h2 toc-link" data-title="Get Restaurant">Get Restaurant</a>
                  </li>
                  <li>
                    <a href="#list-restaurants" class="toc-h2 toc-link" data-title="List Restaurants">List Restaurants</a>
                  </li>
                  <li>
                    <a href="#get-restaurant-availability" class="toc-h2 toc-link" data-title="Get Restaurant Availability">Get Restaurant Availability</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#bookings" class="toc-h1 toc-link" data-title="Bookings">Bookings</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-booking-object" class="toc-h2 toc-link" data-title="The Booking Object">The Booking Object</a>
                  </li>
                  <li>
                    <a href="#booking-relationships" class="toc-h2 toc-link" data-title="Booking Relationships">Booking Relationships</a>
                  </li>
                  <li>
                    <a href="#get-booking" class="toc-h2 toc-link" data-title="Get Booking">Get Booking</a>
                  </li>
                  <li>
                    <a href="#list-bookings" class="toc-h2 toc-link" data-title="List Bookings">List Bookings</a>
                  </li>
                  <li>
                    <a href="#create-booking" class="toc-h2 toc-link" data-title="Create Booking">Create Booking</a>
                  </li>
                  <li>
                    <a href="#update-booking" class="toc-h2 toc-link" data-title="Update Booking">Update Booking</a>
                  </li>
                  <li>
                    <a href="#cancel-booking" class="toc-h2 toc-link" data-title="Cancel Booking">Cancel Booking</a>
                  </li>
                  <li>
                    <a href="#reschedule-booking" class="toc-h2 toc-link" data-title="Reschedule Booking">Reschedule Booking</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#person" class="toc-h1 toc-link" data-title="Person">Person</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-person-object" class="toc-h2 toc-link" data-title="The Person Object">The Person Object</a>
                  </li>
                  <li>
                    <a href="#list-people" class="toc-h2 toc-link" data-title="List People">List People</a>
                  </li>
                  <li>
                    <a href="#get-person" class="toc-h2 toc-link" data-title="Get Person">Get Person</a>
                  </li>
                  <li>
                    <a href="#update-person" class="toc-h2 toc-link" data-title="Update Person">Update Person</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payment-collection-flows" class="toc-h1 toc-link" data-title="Payment Collection Flows">Payment Collection Flows</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#payment-types" class="toc-h2 toc-link" data-title="Payment Types">Payment Types</a>
                  </li>
                  <li>
                    <a href="#synchronous-flow" class="toc-h2 toc-link" data-title="Synchronous Flow">Synchronous Flow</a>
                  </li>
                  <li>
                    <a href="#asynchronous-flow" class="toc-h2 toc-link" data-title="Asynchronous Flow">Asynchronous Flow</a>
                  </li>
                  <li>
                    <a href="#flow-comparison" class="toc-h2 toc-link" data-title="Flow Comparison">Flow Comparison</a>
                  </li>
                  <li>
                    <a href="#next-steps" class="toc-h2 toc-link" data-title="Next Steps">Next Steps</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payment-intents" class="toc-h1 toc-link" data-title="Payment Intents">Payment Intents</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-payment-intent-object" class="toc-h2 toc-link" data-title="The Payment Intent Object">The Payment Intent Object</a>
                  </li>
                  <li>
                    <a href="#initialize-payment-intent" class="toc-h2 toc-link" data-title="Initialize Payment Intent">Initialize Payment Intent</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#reviews" class="toc-h1 toc-link" data-title="Reviews">Reviews</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-review-object" class="toc-h2 toc-link" data-title="The Review Object">The Review Object</a>
                  </li>
                  <li>
                    <a href="#review-relationships" class="toc-h2 toc-link" data-title="Review Relationships">Review Relationships</a>
                  </li>
                  <li>
                    <a href="#list-reviews" class="toc-h2 toc-link" data-title="List Reviews">List Reviews</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#pagination" class="toc-h1 toc-link" data-title="Pagination">Pagination</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#query-parameters" class="toc-h2 toc-link" data-title="Query Parameters">Query Parameters</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#common-errors" class="toc-h1 toc-link" data-title="Common Errors">Common Errors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#error-response-format" class="toc-h2 toc-link" data-title="Error Response Format">Error Response Format</a>
                  </li>
                  <li>
                    <a href="#error-codes" class="toc-h2 toc-link" data-title="Error Codes">Error Codes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#changelog" class="toc-h1 toc-link" data-title="Changelog">Changelog</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#january-2026" class="toc-h2 toc-link" data-title="January 2026">January 2026</a>
                  </li>
                  <li>
                    <a href="#october-2025" class="toc-h2 toc-link" data-title="October 2025">October 2025</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li>To get an API access, please contact:</li>
            <li><a href="mailto:admin@libroreserve.com">admin@libroreserve.com</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='libro-api'>Libro API</h1>
<p>Welcome to the <strong>Libro API</strong> — your comprehensive toolkit for integrating restaurant reservation management into your applications. </p>

<p>This documentation will guide you through the process of integrating with our platform, from authentication to making your first API call and implementing advanced features.</p>
<h2 id='base-urls'>Base URLs</h2>
<table><thead>
<tr>
<th>Environment</th>
<th>Base URL</th>
<th>Purpose</th>
</tr>
</thead><tbody>
<tr>
<td>Production</td>
<td><code>https://api.libroreserve.com</code></td>
<td>Live system integration</td>
</tr>
<tr>
<td>Staging</td>
<td><code>https://api.staging.libro.app</code></td>
<td>Testing and development</td>
</tr>
</tbody></table>
<h2 id='api-overview'>API Overview</h2>
<p>The Libro API follows REST principles and provides JSON:API-compliant responses. Here&#39;s a quick overview of the main resources:</p>

<table><thead>
<tr>
<th>Resource</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#restaurants">Restaurants</a></td>
<td>Restaurant profiles, availability, and settings</td>
</tr>
<tr>
<td><a href="#bookings">Bookings</a></td>
<td>Reservation creation and management</td>
</tr>
<tr>
<td><a href="#person">People</a></td>
<td>Guest information</td>
</tr>
<tr>
<td><a href="#payment-intents">Payment Intents</a></td>
<td>Payment intent initialization for no-show and ticketing</td>
</tr>
<tr>
<td><a href="#reviews">Reviews</a></td>
<td>Customer reviews and feedback</td>
</tr>
</tbody></table>
<h1 id='introduction'>Introduction</h1>
<p>Welcome to the <strong>Libro API</strong> — your comprehensive toolkit for integrating restaurant reservation management into your applications. This documentation provides detailed guidance on accessing our API endpoints for booking management, restaurant information, and customer data.</p>
<h2 id='api-architecture'>API Architecture</h2>
<p>The Libro API uses RESTful principles with JSON:API-compliant responses. All data is exchanged in JSON format, and authentication is handled through OAuth 2.0 bearer tokens.</p>
<h3 id='key-features'>Key Features</h3>
<ul>
<li><strong>JSON:API Format</strong>: Standardized response structure for consistent parsing</li>
<li><strong>OAuth 2.0 Authentication</strong>: Secure access through bearer tokens</li>
<li><strong>Versioned Endpoints</strong>: Explicit versioning through Accept headers</li>
<li><strong>Comprehensive Error Handling</strong>: Detailed error messages and codes</li>
</ul>
<h3 id='documentation-conventions'>Documentation Conventions</h3>
<p>Throughout this documentation, you&#39;ll find examples in multiple programming languages. Select your preferred language using the tabs at the top of each code example.</p>

<aside class="notice">
All example code assumes you have already set up authentication with your API key.
</aside>

<p>The API uses resource-oriented URLs, standard HTTP response codes, and accepts request bodies in JSON format.</p>
<h2 id='getting-api-access'>Getting API Access</h2>
<p>To begin your integration:</p>

<ol>
<li><strong>Request API Access</strong>: Contact us at <a href="mailto:admin@libroreserve.com">admin@libroreserve.com</a> to be added to our partner program</li>
<li><strong>Obtain OAuth Credentials</strong>: You&#39;ll receive client ID and secret for authentication</li>
<li><strong>Set Up Your Environment</strong>: Choose between production or staging based on your development phase</li>
</ol>

<aside class="notice">
If you're new to integrating with Libro, you'll first need to request API access for our staging environment. We'll provide access to our staging environment, and then we'll need to certify your integration before we can grant you access to our production environment.
</aside>

<p>Here&#39;s what is required to get API access:</p>

<ul>
<li>Name of your app</li>
<li>Scopes you need for your integration</li>
<li>Redirect URIs</li>
</ul>
<h1 id='authentication'>Authentication</h1>
<p>The Libro API uses OAuth 2.0 for authentication, providing secure access to resources while maintaining fine-grained control over permissions.</p>
<h2 id='authentication-methods'>Authentication Methods</h2><h3 id='oauth-2-0-bearer-tokens'>OAuth 2.0 Bearer Tokens</h3>
<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl https://api.libroreserve.com/oauth/token <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"grant_type=client_credentials&amp;client_id=YOUR_CLIENT_ID&amp;client_secret=YOUR_CLIENT_SECRET"</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">7200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The Libro API uses OAuth 2.0 bearer tokens for authentication. This method is secure and allows for token rotation and management.</p>

<p>The response will contain your access token:</p>
<h2 id='step-1-implement-the-authorization-request'>Step 1: Implement the Authorization Request</h2><h3 id='authorization-url'>Authorization URL</h3>
<blockquote>
<p>HTML Button example</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>&lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">"https://accounts.libroreserve.com/oauth/authorize?client_id=CLIENT_ID&amp;redirect_uri=REDIRECT_URI&amp;response_type=code&amp;scope=REQUESTED_SCOPES"</span>
  <span class="o">&gt;</span>Connect to Libro&lt;/a&gt;
</code></pre></div>
<p>Create a “Connect” or “Link Account” button in your application that directs users to the Libro authorization URL. The URL should be structured as follows:</p>

<p><code>https://accounts.libroreserve.com/oauth/authorize?client_id=CLIENT_ID&amp;redirect_uri=REDIRECT_URI&amp;response_type=code&amp;scope=REQUESTED_SCOPES</code></p>

<aside class="notice">
For Staging environment use this domain name: accounts.staging.libro.app
</aside>

<p>Replace <code>CLIENT_ID</code> with your client ID, <code>REDIRECT_URI</code> with your encoded callback URL, and <code>REQUESTED_SCOPES</code> with the permissions you need (e.g., bookings). For multiple scopes, separate each with a space (i.e., bookings people reviews).</p>
<h3 id='user-authentication-and-authorization'>User Authentication and Authorization</h3>
<p>When users click this button, they will be redirected to Libro’s system to log in (if not already logged in) and authorize your application to access their data based on the requested scopes.</p>

<p><img src="images/back-office-9bbc221e.png" alt="Libro Authorization Flow"></p>
<h2 id='step-2-handle-the-callback'>Step 2: Handle the Callback</h2><h3 id='receive-the-authorization-code'>Receive the Authorization Code</h3>
<p>After the user authorizes the connection, Libro’s system will redirect the user back to your application via the redirect_uri you provided during authentication, including an authorization_code as a URL parameter.</p>

<p>Example Callback URL:
<code>https://app.example.io/oauth/callback?code=AUTHORIZATION_CODE</code></p>
<h2 id='step-3-exchange-the-authorization-code-for-an-access-token'>Step 3: Exchange the Authorization Code for an Access Token</h2>
<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl https://accounts.libroreserve.com/oauth/token <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"grant_type=authorization_code&amp;
  client_id=CLIENT_ID&amp;
  client_secret=CLIENT_SECRET&amp;
  code=AUTHORIZATION_CODE&amp;
  redirect_uri=ENCODED_REDIRECT_URI"</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IKSJFGDKJF..."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">7200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Libro’s system will respond with an access and refresh token that your application can use to make authenticated requests to Libro’s API on behalf of the user.</p>

<p>The expires_in value returned in the token response is expressed in seconds, as per the OAuth 2.0 specification.</p>
<h2 id='step-4-make-authenticated-requests'>Step 4: Make Authenticated Requests</h2>
<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl https://accounts.libroreserve.com/restricted/restaurant/bookings/63873433 <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63873433"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bookings"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-01-01T12:00:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"party_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Your application can now access Libro’s API by including the access token in the <code>Authorization</code> header of your requests</p>
<h2 id='step-5-handle-token-expiration'>Step 5: Handle Token Expiration</h2>
<blockquote>
<p>Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl https://accounts.libroreserve.com/oauth/token <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-d</span> <span class="s2">"grant_type=refresh_token&amp;
  client_id=CLIENT_ID&amp;
  client_secret=CLIENT_SECRET&amp;
  refresh_token=REFRESH_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>Response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">7200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Access tokens expire after a period (typically 2 hours). Your application should handle token expiration and renewal:</p>

<ol>
<li>Store the <code>expires_in</code> value when receiving a token</li>
<li>Implement a token refresh mechanism before expiration</li>
<li>If you receive a <code>401 Unauthorized</code> error, request a new token</li>
</ol>

<aside class="warning">
Never share your client secret or access tokens. Store them securely and never expose them in client-side code.
</aside>
<h3 id='token-endpoint'>Token Endpoint</h3>
<p>Make a POST request to Libro’s token endpoint with the refresh token to obtain a new access token.</p>
<h2 id='error-handling'>Error Handling</h2>
<p>Ensure your application gracefully handles errors such as invalid or expired refresh tokens by prompting the user to reauthorize if necessary.</p>

<p>By adding these details, the guide provides a comprehensive approach to handling token refresh, ensuring continuous and secure access to Libro’s API.</p>
<h1 id='restaurants'>Restaurants</h1>
<p>The Restaurants API allows you to access restaurant profiles, manage availability, and retrieve detailed information about dining establishments in the Libro network.</p>

<blockquote>
<p>ENDPOINTS</p>

<p><span class="method get">GET</span> /restricted/restaurants <br>
<span class="method get">GET</span> /restricted/restaurants/:id <br>
<span class="method get">GET</span> /restricted/restaurants/:id/seatings</p>
</blockquote>
<h2 id='the-restaurant-object'>The Restaurant Object</h2>
<blockquote>
<p>THE RESTAURANT OBJECT</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restaurant"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example Restaurant"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZZ000000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">45.5001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-73.5665</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tz"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/Montreal"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-01-01T12:00:00.0-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"online-booking-lead-months"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelation-delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">86400</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service-scopes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Diner"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10:00"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15:00"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Souper"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15:00"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03:00"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"names"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adult"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adulte"</span><span class="w">
          </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"names"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Child"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enfant"</span><span class="w">
          </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='attributes'>Attributes</h3>
<p><span class="dynamic-attributes" data-attr-type="restaurant"></span></p>
<h2 id='get-restaurant'>Get Restaurant</h2>
<p>This endpoint retrieves a specific restaurant by its code.</p>
<h3 id='query-parameters'>Query Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="restaurantGet"></span></p>

<blockquote>
<p><span class="method get">GET</span> /restricted/restaurants?restaurant-code=QC01621448XXXX</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/restaurants?restaurant-code=QC016214487921"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restaurant"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">restaurant</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='list-restaurants'>List Restaurants</h2>
<blockquote>
<p><span class="method get">GET</span> /restricted/restaurants</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/restaurants"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restaurant"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">restaurant</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restaurant"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">restaurant</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves all restaurants available to your connected account.</p>

<p>See <a href="#pagination">Pagination</a> for more details.</p>
<h2 id='get-restaurant-availability'>Get Restaurant Availability</h2>
<blockquote>
<p><span class="method get">GET</span> /restricted/restaurant/seatings</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/restaurant/seatings?restaurant-code=QC01621448XXXX&amp;date=2026-07-09&amp;size=2"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">#</span><span class="w"> </span><span class="err">Response</span><span class="w"> </span><span class="err">with</span><span class="w"> </span><span class="err">experiences</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">no-show</span><span class="w"> </span><span class="err">authorization</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">offer</span><span class="w"> </span><span class="err">selection</span><span class="w"> </span><span class="err">are</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="err">required.</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"2025-09-11"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"2025-09-11T16:00:00"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4253</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dining Room"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Salle à Diner"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payment-required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"2025-09-11T16:15:00"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4253</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dining Room"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Salle à Diner"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payment-required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">#</span><span class="w"> </span><span class="err">Response</span><span class="w"> </span><span class="err">with</span><span class="w"> </span><span class="err">experiences</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">no-show</span><span class="w"> </span><span class="err">authorization</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">required.</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"2025-09-11"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"2025-09-11T21:00:00"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4253</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dining Room"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Salle à Diner"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payment-required"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payment-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO_SHOW"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount-cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">25000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payment-delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">7200</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"2025-09-11T21:15:00"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4253</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dining Room"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Salle à Diner"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payment-required"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payment-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO_SHOW"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount-cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">25000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payment-delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">7200</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">#</span><span class="w"> </span><span class="err">Response</span><span class="w"> </span><span class="err">with</span><span class="w"> </span><span class="err">experiences</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">an</span><span class="w"> </span><span class="err">eligible</span><span class="w"> </span><span class="err">offer</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">available.</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"2025-09-11"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"2025-09-11T20:00:00"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4253</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dining Room"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Salle à Diner"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payment-required"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payment-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICKETING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount-cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
            </span><span class="nl">"offer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sunday Night Football"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PR123ABC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Come watch the game!"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"2025-09-11T20:15:00"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4253</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dining Room"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Salle à Diner"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payment-required"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payment-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TICKETING"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount-cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
            </span><span class="nl">"offer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
                </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sunday Night Football"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PR123ABC"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Come watch the game!"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">#</span><span class="w"> </span><span class="err">Response</span><span class="w"> </span><span class="err">without</span><span class="w"> </span><span class="err">experiences:</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"2025-09-11"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"2025-09-11T11:00:00"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"payment-required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"2025-09-11T11:15:00"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"payment-required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"2025-09-11T11:30:00"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"payment-required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">      
</span></code></pre></div>
<p>This endpoint retrieves restaurant availabilities.</p>
<h3 id='query-parameters'>Query Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="restaurantGetAvailability"></span></p>
<h3 id='payment-requirements'>Payment Requirements</h3>
<p>The <code>payment-required</code> attribute indicates whether payment is required for a time slot. When payment is required,
it includes additional details based on the type of payment.</p>
<h4 id='priority-logic'>Priority Logic</h4>
<p>When both offers and no-show policies exist for a time slot, the following priority order applies:</p>

<ol>
<li><strong>Non-optional offers</strong> (with available tables) → Returns <code>TICKETING</code> payment type (overrides no-show policies)</li>
<li><strong>Optional offers + no-show policy</strong> → Returns <code>NO_SHOW</code> payment type (policy takes precedence)</li>
<li><strong>Optional offers + no policy</strong> → Returns <code>TICKETING</code> payment type</li>
<li><strong>No offer + no-show policy</strong> → Returns <code>NO_SHOW</code> payment type</li>
<li><strong>No offer + no policy</strong> → Returns <code>false</code></li>
</ol>
<h3 id='no-show-policies'>No-Show Policies</h3>
<p>The following attributes are available if the restaurant has configured a no-show policy for the
selected time slot.</p>

<p>Once a booking is submitted, the guest will receive an email or SMS to confirm the reservation with a credit card.</p>

<p>The deposit grace period defines the amount of time the guest has to enter their credit card information to finalize the reservation.
If the card details are not provided within this time frame, the pending reservation will be automatically canceled and the table will be released.</p>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>payment-type</strong></td>
<td style="text-align: left">string</td>
<td>Defaults to &quot;NO_SHOW&quot;</td>
</tr>
<tr>
<td style="text-align: left"><strong>amount-cents</strong></td>
<td style="text-align: left">integer</td>
<td>Payment amount in cents that will be charged for a no-show</td>
</tr>
<tr>
<td style="text-align: left"><strong>payment-delay</strong></td>
<td style="text-align: left">integer</td>
<td>Deposit Request Grace Period in seconds</td>
</tr>
</tbody></table>
<h3 id='offers'>Offers</h3>
<p>The following attributes are available if the restaurant has an eligible published offer for the selected time slot.</p>

<p>An offer is only included if it matches the service time, day of week, experience, and the required tables are available.</p>

<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>payment-type</strong></td>
<td style="text-align: left">string</td>
<td>Defaults to &quot;TICKETING&quot; when an offer is available</td>
</tr>
<tr>
<td style="text-align: left"><strong>amount-cents</strong></td>
<td style="text-align: left">integer</td>
<td>Ticket price in cents for the offer</td>
</tr>
<tr>
<td style="text-align: left"><strong>offer</strong></td>
<td style="text-align: left">object</td>
<td>Offer details (see below)</td>
</tr>
</tbody></table>
<h4 id='offer-object-attributes'>Offer Object Attributes</h4>
<table><thead>
<tr>
<th style="text-align: left">Name</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>id</strong></td>
<td style="text-align: left">integer</td>
<td>Unique identifier for the offer</td>
</tr>
<tr>
<td style="text-align: left"><strong>name</strong></td>
<td style="text-align: left">string</td>
<td>Display name of the offer</td>
</tr>
<tr>
<td style="text-align: left"><strong>number</strong></td>
<td style="text-align: left">string</td>
<td>Offer reference number</td>
</tr>
<tr>
<td style="text-align: left"><strong>description</strong></td>
<td style="text-align: left">string</td>
<td>Description of the offer</td>
</tr>
</tbody></table>
<h1 id='bookings'>Bookings</h1>
<blockquote>
<p>ENDPOINTS</p>

<p><span class="method get">GET</span> /restricted/restaurant/bookings/:id <br>
<span class="method get">GET</span> /restricted/restaurant/bookings <br>
<span class="method post">POST</span> /restricted/restaurant/bookings <br>
<span class="method patch">PATCH</span> /restricted/restaurant/bookings/:id <br>
<span class="method put">PUT</span> /restricted/restaurant/bookings/:id <br>
<span class="method delete">DELETE</span> /restricted/restaurant/bookings/:id <br></p>
</blockquote>

<p>The Bookings API allows you to create, retrieve, and manage reservations.</p>
<h2 id='the-booking-object'>The Booking Object</h2>
<blockquote>
<p>THE BOOKING OBJECT</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-07-09T17:00:00.000-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We would like to have a table near the window"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"table-number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"private-note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expected-leave-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-07-09T18:30:00.000-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"read-token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17ca6f639"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"edit-token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17ca6f604"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"booking-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reservation"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-07-08T22:54:26.708-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arrived-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmed-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"seated-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"completed-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"canceled-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"vegan"</span><span class="p">,</span><span class="w"> </span><span class="s2">"children"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"flags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"children"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"reduced-mobility"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"do-not-move"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"invoice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"affiliate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelation-allowed-until"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"modification-restricted"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"restricted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='booking-attributes'>Booking Attributes</h3>
<p><span class="dynamic-attributes" data-attr-type="booking"></span></p>
<h3 id='booking-tags'>Booking Tags</h3>
<p><span class="dynamic-attributes" data-attr-type="bookingTags"></span></p>
<h3 id='booking-flags'>Booking Flags</h3>
<p>Flags are boolean properties that are distinct from tags.</p>

<p>The following flags are available:
- <code>children</code>: indicates whether guests have signaled that their reservation includes children
- <code>reduced-mobility</code>: indicates if the reservation requires accessibility accommodations
- <code>do-not-move</code>: indicates that a Libro user has marked this reservation as immovable from its assigned table</p>
<h3 id='modification-restricted'>Modification Restricted</h3>
<p>The <code>modification-restricted</code> attribute indicates whether a booking can be modified via partner APIs or if it requires manual intervention by restaurant staff through the Libro dashboard.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"modification-restricted"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"restricted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"validation.service.party-size-exceeds-maximum"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><code>restricted</code> (boolean): When <code>true</code>, the booking cannot be modified via the API and requires restaurant staff to make changes manually.</li>
<li><code>reason</code> (string|null): When restricted, contains an error code explaining why modification is not allowed. Common reasons include:

<ul>
<li><code>validation.service.party-size-exceeds-maximum</code>: The party size exceeds the maximum allowed for online bookings</li>
<li><code>validation.service.party-size-below-minimum</code>: The party size is below the minimum required</li>
<li><code>validation.service.date-out-of-range</code>: The booking date is beyond the allowed booking window</li>
</ul></li>
</ul>
<h2 id='booking-relationships'>Booking Relationships</h2>
<p>Booking object will be returned with the following relationships:</p>

<ul>
<li><a href="#restaurant">Restaurant</a></li>
<li><a href="#person">Person</a></li>
<li><a href="#recommendation">Recommendation</a></li>
<li><a href="#experience">Experience</a></li>
</ul>
<h3 id='experience'>Experience</h3>
<p>The <code>experience</code> relationship refers to a dining section or area within the
restaurant (e.g., Dining Room, Bar, Patio). Experiences are side-loaded in
API responses as follows:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"experience"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dining Room"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-booking'>Get Booking</h2>
<blockquote>
<p><span class="method get">GET</span> /restricted/restaurant/bookings/:id</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/restaurant/bookings/63873441"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63873433"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seated"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-04-30T10:45:00.000-04:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Birthday party"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"private-note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expected-leave-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-04-30T12:15:00.000-04:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dashboard"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"read-token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17cb72002"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"edit-token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17cb72018"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"booking-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reservation"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-04-30T10:51:01.730-04:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"arrived-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-04-30T10:51:01.729-04:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confirmed-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seated-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"completed-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"canceled-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-06T17:32:19.190-04:00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXXXX"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"restaurant"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restaurant"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"recommendation"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXXXX"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"recommendation"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"experience"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXXXX"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"experience"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves a specific booking by its ID.</p>
<h3 id='path-parameters'>Path Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="bookingGet"></span></p>
<h2 id='list-bookings'>List Bookings</h2>
<blockquote>
<p><span class="method get">GET</span> /restricted/restaurant/bookings</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/restaurant/bookings"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">relationships</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">relationships</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves a list of bookings for the restaurant.</p>
<h3 id='query-parameters'>Query Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="bookingList"></span></p>
<h3 id='examples'>Examples</h3>
<ul>
<li>Search by date:</li>
</ul>

<p><code>GET https://api.libroreserve.com/restricted/restaurant/bookings?date=2025-05-30</code></p>

<ul>
<li>Search by date and time:</li>
</ul>

<p><code>GET https://api.libroreserve.com/restricted/restaurant/bookings?date=2025-05-30&amp;time=13:00</code></p>

<ul>
<li>Search by guest phone number:</li>
</ul>

<p><code>GET https://api.libroreserve.com/restricted/restaurant/bookings?guest-phone=15141111111</code></p>

<p>See <a href="#pagination">Pagination</a> for more details.</p>
<h2 id='create-booking'>Create Booking</h2>
<blockquote>
<p><span class="method post">POST</span> /restricted/restaurant/bookings</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code> curl <span class="s2">"https://api.libroreserve.com/restricted/restaurant/bookings"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>REQUEST BODY WITH PERSON DATA:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"restaurant-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-07"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Birthday party"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nl">"2"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">}]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"people"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@doe.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5141111111"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"preferred-communication-channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"device-infos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXXXXXX"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.1.1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"payment-intent-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>REQUEST BODY WITH PERSON ID:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"restaurant-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-07"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Birthday party"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nl">"2"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">}]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"person"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"people"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"device-infos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXXXXXXXX"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.1.1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"payment-intent-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"approved"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-07T12:00:00.000-04:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"table-number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Birthday party"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"private-note"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expected-leave-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-07T13:30:00.000-04:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"widget"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"read-token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17cb72339"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"edit-token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17cb722f3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"booking-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reservation"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-06T17:13:14.250-04:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"arrived-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confirmed-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seated-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"completed-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"canceled-at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">relationships</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to create a new booking.</p>

<aside class="notice">Note: You can choose rather to pass the ID of a Person or the full Person attributes.</aside>
<h3 id='body-parameters'>Body Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="restaurantCode"></span></p>
<h4 id='body-attributes'>Body Attributes</h4>
<p><span class="dynamic-attributes" data-attr-type="createBooking"></span></p>
<h4 id='relationship-person'>Relationship Person</h4>
<p><span class="dynamic-attributes" data-attr-type="personId"></span></p>
<h4 id='person-attributes'>Person Attributes</h4>
<p><span class="dynamic-attributes" data-attr-type="person"></span></p>
<h4 id='device-infos'>Device Infos</h4>
<p><span class="dynamic-attributes" data-attr-type="deviceInfos"></span></p>
<h4 id='payment-intent-id'>Payment Intent ID</h4>
<p><span class="dynamic-attributes" data-attr-type="paymentIntentId"></span></p>
<h2 id='update-booking'>Update Booking</h2>
<blockquote>
<p><span class="method patch">PATCH</span> /restricted/restaurant/bookings/:id</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/restaurant/bookings/63873441"</span> <span class="se">\</span>
  <span class="nt">-X</span> PATCH <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>REQUEST BODY:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"restaurant-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We would like to have a table near the window"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63873441"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">relationships</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to update some attributes of a booking.</p>
<h3 id='parameters'>Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="restaurantCode"></span></p>
<h4 id='body-attributes'>Body Attributes</h4>
<p><span class="dynamic-attributes" data-attr-type="updateBooking"></span></p>
<h2 id='cancel-booking'>Cancel Booking</h2>
<blockquote>
<p><span class="method delete">DELETE</span> /restricted/restaurant/bookings/:id</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/restaurant/bookings/63873441"</span> <span class="se">\</span>
  <span class="nt">-X</span> DELETE <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63873441"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">relationships</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to cancel a booking.
<aside class="notice">
Cancellation is only possible if the booking has not passed the cancellation deadline, if the restaurant accept booking cancelation and if there is not deposit.
</aside></p>
<h3 id='query-parameters'>Query Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="restaurantCode"></span></p>
<h3 id='example'>Example</h3>
<p><code>DELETE /restricted/restaurant/bookings/63873441?restaurant-code=0000000000</code></p>
<h3 id='errors'>Errors</h3>
<p><span class="dynamic-attributes" data-attr-type="bookingErrors"></span></p>
<h2 id='reschedule-booking'>Reschedule Booking</h2>
<blockquote>
<p><span class="method put">PUT</span> /restricted/restaurant/bookings/:id/reschedule</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/restaurant/bookings/63873441/reschedule"</span> <span class="se">\</span>
  <span class="nt">-X</span> PUT <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>REQUEST BODY:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"restaurant-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-05-07"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"booking-experience-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63873441"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">relationships</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to reschedule a booking. It will be used to increase/descrease booking size, change date and time or change booking experience.</p>
<h3 id='body-parameters'>Body Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="restaurantCode"></span></p>
<h4 id='body-attributes'>Body Attributes</h4>
<p><span class="dynamic-attributes" data-attr-type="rescheduleBooking"></span></p>
<h3 id='examples'>Examples</h3>
<ul>
<li>Increase booking size:</li>
</ul>

<p><code>PUT https://api.libroreserve.com/restricted/restaurant/bookings/63873441/reschedule?restaurant-code=0000000000&amp;date=2025-05-07&amp;time=17:00&amp;size=4</code></p>

<ul>
<li>Change booking date and time:</li>
</ul>

<p><code>PUT https://api.libroreserve.com/restricted/restaurant/bookings/63873441/reschedule?restaurant-code=0000000000&amp;date=2025-05-07&amp;time=17:00</code></p>
<h1 id='person'>Person</h1>
<blockquote>
<p>ENDPOINTS</p>

<p><span class="method get">GET</span> /restricted/people/:id <br>
<span class="method patch">PATCH</span> /restricted/people/:id <br></p>
</blockquote>

<p>The People API allows you to retrieve and update people data.</p>
<h2 id='the-person-object'>The Person Object</h2>
<blockquote>
<p>THE PERSON OBJECT</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18476003"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"first-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johnny"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"225-951-4433"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lorem Ipsum"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"vvip"</span><span class="p">,</span><span class="w"> </span><span class="s2">"vegan"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='person-2'>Person</h3>
<p><span class="dynamic-attributes" data-attr-type="personId"></span></p>
<h4 id='person-attributes'>Person Attributes</h4>
<p><span class="dynamic-attributes" data-attr-type="person"></span></p>
<h4 id='person-tags'>Person Tags</h4>
<p><span class="dynamic-attributes" data-attr-type="personTags"></span></p>
<h2 id='list-people'>List People</h2>
<blockquote>
<p><span class="method get">GET</span> /restricted/people</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/people?restaurant-code=QC0000000001"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18476004"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"first-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jane@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"225-955-7788"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prefers window seating"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"regular"</span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18476003"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"first-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johnny"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"225-951-4433"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lorem Ipsum"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"vvip"</span><span class="p">,</span><span class="w"> </span><span class="s2">"vegan"</span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves a list of people associated with a restaurant. Results are sorted by ID in descending order (newest first).</p>
<h3 id='query-parameters'>Query Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="personList"></span></p>
<h3 id='examples'>Examples</h3>
<ul>
<li>Search by phone number:</li>
</ul>

<p><code>GET https://api.libroreserve.com/restricted/people?restaurant-code=QC0000000001&amp;guest-phone=%2B15141111111</code></p>

<ul>
<li>Paginate results:</li>
</ul>

<p><code>GET https://api.libroreserve.com/restricted/people?restaurant-code=QC0000000001&amp;limit=10&amp;offset=20</code></p>

<p>See <a href="#pagination">Pagination</a> for more details.</p>
<h2 id='get-person'>Get Person</h2>
<blockquote>
<p><span class="method get">GET</span> /restricted/people/:id</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/people/18476003"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18476003"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"first-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johnny"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"225-951-4433"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lorem Ipsum"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"vvip"</span><span class="p">,</span><span class="w"> </span><span class="s2">"vegan"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to retrieve a person&#39;s details.</p>
<h3 id='path-parameters'>Path Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="personId"></span></p>
<h2 id='update-person'>Update Person</h2>
<blockquote>
<p><span class="method patch">PATCH</span> /restricted/people/:id</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/people/18476003"</span> <span class="se">\</span>
  <span class="nt">-X</span> PATCH <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>REQUEST BODY:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"first-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johnny"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"225-951-4433"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lorem Ipsum"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"vvip"</span><span class="p">,</span><span class="w"> </span><span class="s2">"vegan"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18476003"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"person"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"first-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johnny"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john@gmail.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"225-951-4433"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lorem Ipsum"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"vvip"</span><span class="p">,</span><span class="w"> </span><span class="s2">"vegan"</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to update a person&#39;s details.</p>
<h3 id='path-parameters'>Path Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="personId"></span></p>
<h3 id='body-parameters'>Body Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="personUpdate"></span></p>
<h1 id='payment-collection-flows'>Payment Collection Flows</h1>
<p>The payment collection integration supports both synchronous and asynchronous flows to accommodate different integration scenarios. This section explains the differences between these flows, when to use each, and how they work.</p>
<h2 id='overview'>Overview</h2>
<p>Libro&#39;s payment system uses a hybrid model that supports two types of payment collection:</p>

<ul>
<li><strong>Synchronous Flow:</strong> Payment is initiated and completed during the reservation process (disruptive to the user flow)</li>
<li><strong>Asynchronous Flow:</strong> Reservation is created and payment is completed later via a link sent to the guest (non-blocking)</li>
</ul>

<p>The choice between synchronous and asynchronous flows depends on your integration context and user experience requirements.</p>
<h2 id='payment-types'>Payment Types</h2>
<table><thead>
<tr>
<th style="text-align: left">Payment Type</th>
<th style="text-align: left">Purpose</th>
<th style="text-align: left">Sync Flow</th>
<th style="text-align: left">Async Flow</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>NO_SHOW</strong></td>
<td style="text-align: left">Authorize credit card to protect against no-shows</td>
<td style="text-align: left">✓ Implemented</td>
<td style="text-align: left">✓ Implemented</td>
</tr>
<tr>
<td style="text-align: left"><strong>TICKETING</strong></td>
<td style="text-align: left">Capture payment for events/experience tickets</td>
<td style="text-align: left">✓ Implemented</td>
<td style="text-align: left">🚧 Work in Progress</td>
</tr>
</tbody></table>
<h2 id='synchronous-flow'>Synchronous Flow</h2>
<p>In the synchronous flow, payment authorization or capture happens <strong>during</strong> the reservation process. The user must complete the payment step before the booking can be finalized.</p>
<h3 id='when-to-use-synchronous-flow'>When to Use Synchronous Flow</h3>
<ul>
<li>Immediate payment confirmation required before finalizing reservation</li>
<li>Provides immediate feedback and confirmation to user </li>
<li>When you need instant confirmation and payment processing</li>
</ul>
<h3 id='paymentintent-usage-in-sync-flow'>PaymentIntent Usage in Sync Flow</h3>
<p>The synchronous flow uses a <strong>PaymentIntent</strong> for both NO_SHOW and TICKETING payment types:</p>

<ul>
<li><strong>Sync NO_SHOW:</strong> Uses PaymentIntent ✓</li>
<li><strong>Sync TICKETING:</strong> Uses PaymentIntent ✓</li>
</ul>
<h3 id='how-synchronous-flow-works'>How Synchronous Flow Works</h3><h4 id='step-1-check-availability'>Step 1: Check Availability</h4>
<p>Call <code>GET /restricted/restaurant/seatings</code> to check availability for the desired date and time:</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/restaurant/seatings?restaurant-code=QC01621448XXXX&amp;date=2026-07-09&amp;size=2"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<p>The response indicates if payment is required:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"2025-09-11"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"2025-09-11T20:00:00"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4253</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dining Room"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Salle à Diner"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payment-required"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"payment-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NO_SHOW"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"amount-cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
          </span><span class="nl">"payment-delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">7200</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>If <code>payment-required</code> is <code>false</code>, proceed directly to booking creation without payment. If <code>payment-required</code> contains <code>NO_SHOW</code> or <code>TICKETING</code>, continue to Step 2.</p>
<h4 id='step-2-initialize-payment-intent'>Step 2: Initialize Payment Intent</h4>
<p>Call <code>POST /restricted/payment-intents/initialize</code> with reservation and guest details:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"restaurant-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC01621448XXXX"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_show"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nl">"3"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"guest_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"party_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-15T19:30:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The API returns a PaymentIntent with a <code>payment-url</code>:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment-intent"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount-cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payment-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_show"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payment-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pay.libro.app/..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='step-3-display-payment-portal-in-iframe-or-with-redirection'>Step 3: Display Payment Portal in iFrame or with Redirection</h4>
<p>The portal displays:</p>

<ul>
<li><p><strong>For NO_SHOW:</strong> Credit card authorization form</p></li>
<li><p><strong>For TICKETING:</strong> Offer selection and payment capture form</p></li>
</ul>

<p><strong>Option 1: Iframe Integration</strong></p>

<p>You can embed the payment URL in an iframe on your site:</p>
<div class="highlight"><pre class="highlight html tab-html"><code><span class="nt">&lt;iframe</span> <span class="na">src=</span><span class="s">"PAYMENT_URL"</span> <span class="na">width=</span><span class="s">"100%"</span> <span class="na">height=</span><span class="s">"600px"</span><span class="nt">&gt;&lt;/iframe&gt;</span>
</code></pre></div>
<p>When the user completes the payment authorization, we will send a <code>postMessage</code> to the parent window that you can listen for:</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">payment_success</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">paymentIntentId</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">paymentIntentId</span><span class="p">;</span>
    <span class="c1">// Close the iframe and continue with booking creation</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>The payment success message structure is:
<code>
{
  status: &#39;payment_success&#39;,
  paymentIntentId: &#39;INTENT_ID&#39;
}
</code></p>
<h4 id='height-updates'>Height Updates:</h4>
<p>The payment page also sends automatic height updates to help you dynamically resize the iframe based on the content. You can listen for these updates to provide a better user experience:</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">event</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">payment-page-height-update</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>
    <span class="c1">// Update iframe height dynamically</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">payment-iframe</span><span class="dl">'</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">height</span><span class="p">}</span><span class="s2">px`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>The height update message structure is:
<code>
{
  event: &#39;payment-page-height-update&#39;,
  data: {
    height: NUMBER_IN_PIXELS
  }
}
</code></p>

<p>Height updates are sent:
- Initially after the page loads (with a 500ms delay)
- Whenever the content height changes by more than 10px
- Updates are debounced by 150ms to avoid excessive messages</p>

<p><strong>Option 2: Redirect Integration</strong></p>

<p>You can redirect the user directly to the payment URL. To specify where the user should be redirected after completing the payment authorization, include a <code>redirect_url</code> query parameter:</p>

<p><code>https://payment-url.example.com?redirect_url=https://yoursite.com/booking/complete</code></p>

<p>After the user completes payment authorization, he will be redirected to the URL you provided.</p>
<h4 id='step-4-create-booking-with-paymentintent'>Step 4: Create Booking with PaymentIntent</h4>
<p>Once the user completes payment (via either iframe or redirect), create the booking using the PaymentIntent ID.</p>

<p>Call the booking creation endpoint with the PaymentIntent ID:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"restaurant-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC01621448XXXX"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-15T19:30:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"party-size"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payment-intent-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="err">other</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">attributes</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='step-5-booking-approved'>Step 5: Booking Approved</h4>
<ul>
<li><strong>For NO_SHOW:</strong> Booking is approved with no show authorization confirmed</li>
<li><strong>For TICKETING:</strong> Payment is captured, ticket is emitted, and booking is approved</li>
</ul>
<h2 id='asynchronous-flow'>Asynchronous Flow</h2>
<p>In the asynchronous flow, the reservation is <strong>created</strong>, and payment is completed later as a follow-up action. The guest receives a link via SMS or email to complete the payment. If is not completed in time, the link expires and the reservation is automatically canceled.</p>
<h3 id='when-to-use-asynchronous-flow'>When to Use Asynchronous Flow</h3>
<ul>
<li>Create reservations without disrupting guest experience</li>
<li>Guest completes payment at their convenience via link</li>
</ul>
<h3 id='how-asynchronous-flow-works'>How Asynchronous Flow Works</h3><h4 id='step-1-create-booking'>Step 1: Create Booking</h4>
<p>Call the booking creation endpoint with the reservation details.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"restaurant-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC01621448XXXX"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-15T19:30:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"party-size"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
      </span><span class="err">//</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="err">other</span><span class="w"> </span><span class="err">booking</span><span class="w"> </span><span class="err">attributes</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h4 id='step-2-guest-receives-payment-link'>Step 2: Guest Receives Payment Link</h4>
<p>The guest automatically receives a link via SMS or email:</p>

<ul>
<li><strong>For NO_SHOW:</strong> Link to complete no show authorization</li>
<li><strong>For TICKETING:</strong> Link to select an offer and complete payment (Work In Progress)</li>
</ul>
<h4 id='step-3-guest-completes-payment'>Step 3: Guest Completes Payment</h4>
<p>The guest clicks the link and completes the payment action:</p>

<ul>
<li><strong>For NO_SHOW:</strong> Enters credit card information for authorization</li>
<li><strong>For TICKETING:</strong> Selects an offer and completes payment capture</li>
</ul>
<h4 id='step-4-booking-approved'>Step 4: Booking Approved</h4>
<p>Once the payment is complete:</p>

<ul>
<li><strong>For NO_SHOW:</strong> No-show protection is activated, booking is approved</li>
<li><strong>For TICKETING:</strong> Payment is captured, ticket is emitted, booking is approved</li>
</ul>
<h4 id='step-5-link-expiration'>Step 5: Link Expiration</h4>
<p>The payment link expires after the grace period specified in <code>payment-delay</code> (from the availabilities endpoint):</p>

<ul>
<li>If the guest completes payment within the grace period → Booking is approved</li>
<li>If the link expires without payment → Booking is automatically cancelled</li>
</ul>
<h2 id='flow-comparison'>Flow Comparison</h2><h3 id='synchronous-flow-2'>Synchronous Flow</h3><div class="highlight"><pre class="highlight plaintext"><code>Partner → Check Availability → Initialize PaymentIntent → Display Portal → Guest Pays → Create Booking → Approved
         (seatings endpoint)   (with reservation info)   (iframe/redirect)              (with intent ID)
</code></pre></div>
<p><strong>Key Characteristics:</strong></p>

<ul>
<li><p>Payment authorization happens <strong>before</strong> booking creation</p></li>
<li><p>Requires PaymentIntent object (for both NO_SHOW and TICKETING)</p></li>
<li><p>User must complete payment to proceed (via iframe or redirect)</p></li>
<li><p>Immediate confirmation</p></li>
</ul>
<h3 id='asynchronous-flow-2'>Asynchronous Flow</h3><div class="highlight"><pre class="highlight plaintext"><code>Partner → Create Booking → Booking Pending → Send Link → Guest Pays → Booking Approved
         (payment pending)                   (SMS/Email)
</code></pre></div>
<p><strong>Key Characteristics:</strong></p>

<ul>
<li><p>Booking created <strong>first</strong></p></li>
<li><p>Guest completes payment at their convenience</p></li>
<li><p>Link has expiration time</p></li>
<li><p>Booking can be automatically cancelled if payment is not completed in time</p></li>
</ul>
<h2 id='next-steps'>Next Steps</h2>
<ul>
<li>Review the <a href="#the-payment-intent-object">PaymentIntent Object</a> structure</li>
<li>Learn how to <a href="#initialize-payment-intent">Initialize a PaymentIntent</a> for synchronous flows</li>
<li>Explore the <a href="#bookings">Bookings API</a> for creating reservations</li>
<li>Check the <a href="#get-restaurant-availability">Restaurant Availabilities</a> endpoint for payment requirements</li>
</ul>
<h1 id='payment-intents'>Payment Intents</h1>
<blockquote>
<p>ENDPOINTS</p>

<p><span class="method post">POST</span> /restricted/payment-intents/initialize <br></p>
</blockquote>

<p>The Payment Intents API allows you to initialize payment intents for no-show policies and ticketing.</p>
<h2 id='the-payment-intent-object'>The Payment Intent Object</h2>
<blockquote>
<p>THE PAYMENT INTENT OBJECT</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment-intent"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"amount-cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payment-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_show"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"guest-info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1234567890"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"party_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-15T19:30:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-10T12:00:00.000Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='payment-intent-attributes'>Payment Intent Attributes</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>amount-cents</code></td>
<td>integer</td>
<td>The amount in cents</td>
</tr>
<tr>
<td><code>currency</code></td>
<td>string</td>
<td>The currency code (ISO 4217)</td>
</tr>
<tr>
<td><code>payment-type</code></td>
<td>string</td>
<td>Type of payment: <code>no_show</code> or <code>ticketing</code></td>
</tr>
<tr>
<td><code>status</code></td>
<td>string</td>
<td>Status of the payment intent</td>
</tr>
<tr>
<td><code>guest-info</code></td>
<td>object</td>
<td>Guest information associated with the payment</td>
</tr>
<tr>
<td><code>created-at</code></td>
<td>datetime</td>
<td>Timestamp when the payment intent was created</td>
</tr>
</tbody></table>
<h2 id='initialize-payment-intent'>Initialize Payment Intent</h2>
<blockquote>
<p><span class="method post">POST</span> /restricted/payment-intents/initialize</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/payment-intents/initialize"</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>REQUEST BODY:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"restaurant-code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"amount_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_show"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="nl">"3"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"guest_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1234567890"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"party_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-15T19:30:00Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment-intent"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amount-cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">2500</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CAD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payment-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_show"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"guest-info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"john.doe@example.com"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1234567890"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"party_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-01-15T19:30:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"classifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="nl">"1"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="nl">"3"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-30T11:00:36-04:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updated-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-30T11:00:36-04:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payment-url"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">payment</span><span class="w"> </span><span class="err">url</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">payment</span><span class="w"> </span><span class="err">intents</span><span class="w"> </span><span class="err">relationships</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to initialize a payment intent for no-show policies or ticketing.</p>

<aside class="notice">Note: This endpoint requires the <code>bookings</code> scope.</aside>
<h3 id='body-parameters'>Body Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="restaurantCode"></span></p>
<h4 id='body-attributes'>Body Attributes</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>amount_cents</code></td>
<td>integer</td>
<td>Required for <code>no_show</code></td>
<td>The amount in cents (must be greater than 0). Not required for <code>ticketing</code></td>
</tr>
<tr>
<td><code>currency</code></td>
<td>string</td>
<td>Required for <code>no_show</code></td>
<td>The currency code (ISO 4217 format, e.g., &quot;USD&quot;, &quot;EUR&quot;). Not required for <code>ticketing</code></td>
</tr>
<tr>
<td><code>payment_type</code></td>
<td>string</td>
<td>No</td>
<td>Type of payment: <code>no_show</code> or <code>ticketing</code> (default: <code>no_show</code>)</td>
</tr>
<tr>
<td><code>classifications</code></td>
<td>array</td>
<td>Conditional</td>
<td>Array of guest classifications as hashes with classification_id as key and quantity as value (e.g., <code>[{&quot;1&quot;: 2}, {&quot;3&quot;: 2}]</code>). Required if restaurant has classifications enabled. Sum of quantities must equal <code>party_size</code></td>
</tr>
<tr>
<td><code>guest_info</code></td>
<td>object</td>
<td>Yes</td>
<td>Guest information object (see below)</td>
</tr>
</tbody></table>
<h4 id='guest-info-attributes'>Guest Info Attributes</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>first_name</code></td>
<td>string</td>
<td>Yes</td>
<td>Guest&#39;s first name</td>
</tr>
<tr>
<td><code>last_name</code></td>
<td>string</td>
<td>Yes</td>
<td>Guest&#39;s last name</td>
</tr>
<tr>
<td><code>email</code></td>
<td>string</td>
<td>Yes</td>
<td>Guest&#39;s email address</td>
</tr>
<tr>
<td><code>phone</code></td>
<td>string</td>
<td>Yes</td>
<td>Guest&#39;s phone number</td>
</tr>
<tr>
<td><code>party_size</code></td>
<td>integer</td>
<td>Yes</td>
<td>Number of guests (must be greater than 0)</td>
</tr>
<tr>
<td><code>time</code></td>
<td>string</td>
<td>Yes</td>
<td>Booking datetime in ISO8601 format</td>
</tr>
<tr>
<td><code>locale</code></td>
<td>string</td>
<td>Yes</td>
<td>Guest&#39;s locale (e.g., &quot;en&quot;, &quot;fr&quot;)</td>
</tr>
</tbody></table>
<h3 id='http-status-codes'>HTTP Status Codes</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Payment intent created successfully</td>
</tr>
<tr>
<td>400</td>
<td>Bad request: Classifications validation failed</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized: Missing or invalid token</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden: Missing required scopes</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable entity: Validation errors</td>
</tr>
</tbody></table>
<h3 id='classifications-validation'>Classifications Validation</h3>
<p>When a restaurant has classifications enabled (e.g., for ticketing with different guest types like adults, children, seniors), the following validation rules apply:</p>

<ol>
<li><p><strong>Classifications are required</strong>: If the restaurant has classifications enabled and configured, the <code>classifications</code> parameter must be provided in the request. Otherwise, you will receive a <code>400</code> error with the message: <code>&quot;Classifications are required for this restaurant&quot;</code></p></li>
<li><p><strong>Sum must equal party size</strong>: The sum of all classification quantities must exactly match the <code>party_size</code> in the guest info. For example:</p>

<ul>
<li>If <code>party_size</code> is 4</li>
<li>And you send <code>[{&quot;1&quot;: 2}, {&quot;3&quot;: 2}]</code> (classification ID 1 with quantity 2, classification ID 3 with quantity 2)</li>
<li>The sum is 2 + 2 = 4, which matches the party size ✓</li>
</ul></li>
</ol>

<p>If the sum does not match, you will receive a <code>400</code> error with the message: <code>&quot;Total classification count (X) must equal party size (Y)&quot;</code></p>

<p><strong>Example of valid classifications:</strong>
<code>json
{
  &quot;classifications&quot;: [
    {&quot;1&quot;: 2},
    {&quot;3&quot;: 1},
    {&quot;5&quot;: 1}
  ],
  &quot;guest_info&quot;: {
    &quot;party_size&quot;: 4,
    ...
  }
}
</code></p>

<p>In this example, classification IDs 1, 3, and 5 have quantities of 2, 1, and 1 respectively, totaling 4, which matches the party size.</p>
<h3 id='using-the-payment-url'>Using the Payment URL</h3>
<p>The <code>payment_url</code> returned in the response is the URL you should send your users to so they can complete the payment authorization. You have two integration options:</p>
<h4 id='option-1-iframe-integration'>Option 1: Iframe Integration</h4>
<p>You can embed the payment URL in an iframe on your site:</p>
<div class="highlight"><pre class="highlight html tab-html"><code><span class="nt">&lt;iframe</span> <span class="na">src=</span><span class="s">"PAYMENT_URL"</span> <span class="na">width=</span><span class="s">"100%"</span> <span class="na">height=</span><span class="s">"600px"</span><span class="nt">&gt;&lt;/iframe&gt;</span>
</code></pre></div>
<p>When the user completes the payment authorization, we will send a <code>postMessage</code> to the parent window that you can listen for:</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">payment_success</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">paymentIntentId</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">paymentIntentId</span><span class="p">;</span>
    <span class="c1">// Close the iframe and continue with booking creation</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>The payment success message structure is:
<code>
{
  status: &#39;payment_success&#39;,
  paymentIntentId: &#39;INTENT_ID&#39;
}
</code></p>
<h4 id='height-updates'>Height Updates:</h4>
<p>The payment page also sends automatic height updates to help you dynamically resize the iframe based on the content. You can listen for these updates to provide a better user experience:</p>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">event</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">payment-page-height-update</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>
    <span class="c1">// Update iframe height dynamically</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">payment-iframe</span><span class="dl">'</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">height</span><span class="p">}</span><span class="s2">px`</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>The height update message structure is:
<code>
{
  event: &#39;payment-page-height-update&#39;,
  data: {
    height: NUMBER_IN_PIXELS
  }
}
</code></p>

<p>Height updates are sent:
- Initially after the page loads (with a 500ms delay)</p>

<ul>
<li><p>Whenever the content height changes by more than 10px</p></li>
<li><p>Updates are debounced by 150ms to avoid excessive messages</p></li>
</ul>
<h4 id='option-2-redirect-integration'>Option 2: Redirect Integration</h4>
<p>You can redirect the user directly to the payment URL. To specify where the user should be redirected after completing the payment authorization, include a <code>redirect_url</code> query parameter:</p>

<p><code>https://payment-url.example.com?redirect_url=https://yoursite.com/booking/complete</code></p>

<p>After the user completes payment authorization, he will be redirected to the URL you provided.</p>
<h1 id='reviews'>Reviews</h1>
<blockquote>
<p>ENDPOINTS</p>

<p><span class="method get">GET</span> /restricted/restaurant/reviews <br></p>
</blockquote>

<p>The Reviews API allows you to retrieve reviews.</p>
<h2 id='the-review-object'>The Review Object</h2>
<blockquote>
<p>THE REVIEW OBJECT</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"review"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ambiance-rating"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"food-rating"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"service-rating"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"menu-rating"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"presentation-rating"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"custom-question-1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"custom-question-2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Perfect!"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"reply"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Glad you enjoyed your meal!"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"libro"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-07-08T10:40:31.660-04:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updated-at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024-07-12T11:50:21.615-04:00"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='review-attributes'>Review Attributes</h3>
<p><span class="dynamic-attributes" data-attr-type="reviews"></span></p>
<h2 id='review-relationships'>Review Relationships</h2>
<p>Review object will be returned with the following relationships:</p>

<ul>
<li><a href="#restaurant">Restaurant</a></li>
<li><a href="#person">Person</a></li>
</ul>
<h2 id='list-reviews'>List Reviews</h2>
<blockquote>
<p><span class="method get">GET</span> /restricted/restaurant/reviews</p>

<p>REQUEST:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://api.libroreserve.com/restricted/restaurant/reviews?restaurant-code=QCXXXXXXXXXX"</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Accept: application/vnd.libro-restricted-v2+json"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer ACCESS_TOKEN"</span>
</code></pre></div>
<blockquote>
<p>RESPONSE:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"review"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">review</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">},</span><span class="w">
            </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">review</span><span class="w"> </span><span class="err">relationships</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567891"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"review"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">review</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">},</span><span class="w">
            </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">review</span><span class="w"> </span><span class="err">relationships</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567892"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"review"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">review</span><span class="w"> </span><span class="err">attributes</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">},</span><span class="w">
            </span><span class="nl">"relationships"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">review</span><span class="w"> </span><span class="err">relationships</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"included"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint allows you to retrieve a list of reviews for a specific restaurant.</p>
<h3 id='query-parameters'>Query Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="restaurantCode"></span></p>

<p>See <a href="#pagination">Pagination</a> for more details.</p>
<h1 id='pagination'>Pagination</h1>
<p>Every resource LIST endpoint returns a paginated list of records, and can use the pagination mechanics.</p>

<blockquote>
<p>Retrieve the first 20 bookings:</p>

<p><span class="method get">GET</span> restricted/restaurant/bookings?limit=20&amp;offset=0</p>

<p>Retrieve the next 20 bookings:</p>

<p><span class="method get">GET</span> restricted/restaurant/bookings?limit=20&amp;offset=20</p>

<p>Retrieve 50 bookings per page:</p>

<p><span class="method get">GET</span> restricted/restaurant/bookings?limit=50&amp;offset=0</p>
</blockquote>
<h3 id='query-parameters'>Query Parameters</h3>
<p><span class="dynamic-attributes" data-attr-type="pagination"></span></p>

<p>To paginate through the payload, use the limit and offset parameters. The limit parameter controls the number of records returned in a single request, with a maximum value of 250. The offset parameter specifies the starting point for the query in terms of database records.</p>
<h1 id='common-errors'>Common Errors</h1>
<p>The Libro API uses the following HTTP status codes:</p>

<table><thead>
<tr>
<th>HTTP Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- The token is missing or invalid.</td>
</tr>
<tr>
<td>402</td>
<td>Unauthorized -- Your subscription plan does not allow API access, please contact success@libroreserve.com to subscribe the Premium Plan</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The token has expired or is invalid.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- The token does not allow access to this endpoint.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>409</td>
<td>Conflict -- The request could not be completed due to a conflict with the current state of the resource.</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity -- The request could not be completed due to a validation error.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many resources!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>
<h2 id='error-response-format'>Error Response Format</h2>
<blockquote>
<p>Example error response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"validation.service.slots-unavailable-not-specific"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2005"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Party size is outside the allowed range for online booking. Please contact the restaurant directly."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Error responses include the following fields:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>error</td>
<td>A machine-readable error key for backwards compatibility</td>
</tr>
<tr>
<td>code</td>
<td>A unique error code for programmatic error handling</td>
</tr>
<tr>
<td>message</td>
<td>A human-readable description of the error</td>
</tr>
</tbody></table>
<h2 id='error-codes'>Error Codes</h2>
<p>The API uses structured error codes to help you programmatically handle errors. Error codes are grouped into ranges by category:</p>
<h3 id='restaurant-level-errors-1xxx'>Restaurant-level Errors (1xxx)</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Error Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1001</td>
<td>validation.restaurant.login-required</td>
<td>Customer login is required for this restaurant</td>
</tr>
<tr>
<td>1002</td>
<td>validation.restaurant.recaptcha-required</td>
<td>Recaptcha verification is required</td>
</tr>
<tr>
<td>1003</td>
<td>validation.restaurant.recaptcha-invalid</td>
<td>Invalid recaptcha response format</td>
</tr>
<tr>
<td>1004</td>
<td>validation.restaurant.recaptcha-failed</td>
<td>Recaptcha verification failed</td>
</tr>
<tr>
<td>1005</td>
<td>You must select a restaurant</td>
<td>Restaurant selection is required</td>
</tr>
<tr>
<td>1006</td>
<td>You must select a date &amp; time</td>
<td>Date and time selection is required</td>
</tr>
</tbody></table>
<h3 id='service-availability-errors-2xxx'>Service/Availability Errors (2xxx)</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Error Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>2001</td>
<td>validation.service.slots-unavailable-not-specific</td>
<td>The requested time slot is not available</td>
</tr>
<tr>
<td>2002</td>
<td>validation.service.slots-unavailable-not-specific</td>
<td>The booking window for this time has closed</td>
</tr>
<tr>
<td>2003</td>
<td>validation.service.slots-unavailable-not-specific</td>
<td>Not enough availability for the requested party size</td>
</tr>
<tr>
<td>2004</td>
<td>validation.service.slots-unavailable-not-specific</td>
<td>Not enough availability at the requested time</td>
</tr>
<tr>
<td>2005</td>
<td>validation.service.slots-unavailable-not-specific</td>
<td>Party size is outside the allowed range for online booking</td>
</tr>
<tr>
<td>2006</td>
<td>exception.no-table</td>
<td>No suitable table is available for this reservation</td>
</tr>
<tr>
<td>2007</td>
<td>validation.service.date-out-of-range</td>
<td>The requested date is outside the booking window</td>
</tr>
<tr>
<td>2008</td>
<td>service-not-found</td>
<td>The requested date and time is not available</td>
</tr>
</tbody></table>
<h3 id='booking-data-errors-3xxx'>Booking Data Errors (3xxx)</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Error Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>3001</td>
<td>validation.experience.unavailable</td>
<td>The selected experience is not available at this restaurant</td>
</tr>
<tr>
<td>3001</td>
<td>experience-not-found</td>
<td>The selected experience is not available at this restaurant</td>
</tr>
<tr>
<td>3002</td>
<td>validation.classifications.invalid-restaurant</td>
<td>One or more classifications are not valid for this restaurant</td>
</tr>
<tr>
<td>3003</td>
<td>validation.booking.invalid</td>
<td>Booking validation failed</td>
</tr>
<tr>
<td>3004</td>
<td>validation.offer.empty</td>
<td>A prepaid offer selection is required for this reservation</td>
</tr>
</tbody></table>
<h3 id='operation-errors-4xxx'>Operation Errors (4xxx)</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Error Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>4001</td>
<td>validation.booking.not-cancelable</td>
<td>This booking cannot be canceled via the API</td>
</tr>
</tbody></table>

<aside class="notice">
The <code>error</code> field is provided for backwards compatibility. We recommend using the <code>code</code> field for programmatic error handling as it provides more specific information.
</aside>
<h1 id='changelog'>Changelog</h1><h2 id='january-2026'>January 2026</h2><h3 id='structured-error-codes'>Structured Error Codes</h3>
<p><strong>New Feature</strong> - API error responses now include structured error codes to help you programmatically handle errors.</p>

<p>Error responses include three fields:</p>

<ul>
<li><code>code</code>: A unique error code (e.g., &quot;2005&quot;)</li>
<li><code>message</code>: A human-readable description</li>
<li><code>error</code>: The legacy error key for backwards compatibility</li>
</ul>

<p>Error codes are grouped into ranges:</p>

<ul>
<li><strong>1xxx</strong>: Restaurant-level errors (authentication, configuration)</li>
<li><strong>2xxx</strong>: Service/availability errors (slots, capacity)</li>
<li><strong>3xxx</strong>: Booking data errors (validation)</li>
<li><strong>4xxx</strong>: Operation errors (cancel, payment)</li>
</ul>

<p>See the <a href="#error-codes">Error Codes</a> section for the complete list.</p>
<h3 id='booking-modification-restricted-attribute'>Booking Modification Restricted Attribute</h3>
<p><strong>New Feature</strong> - The Booking object now includes a <code>modification-restricted</code> attribute that indicates whether a booking can be modified via partner APIs.</p>

<p>When <code>restricted</code> is <code>true</code>, the booking requires manual intervention by restaurant staff through the Libro dashboard. The <code>reason</code> field provides a specific error code explaining why the booking cannot be modified programmatically.</p>

<p>See the <a href="#modification-restricted">Modification Restricted</a> section in the Booking documentation for details.</p>
<h2 id='october-2025'>October 2025</h2><h3 id='payment-intents-api'>Payment Intents API</h3>
<p><strong>New Feature</strong> - We&#39;ve added a new Payment Intents flow to the API, allowing you to initialize payment intents for no-show protection and ticketing scenarios.</p>

<p>Key features:</p>

<ul>
<li>Initialize payment intents with booking details</li>
<li>Support for Stripe and Moneris payment processing</li>
<li>Secure payment handling for reservations</li>
</ul>

<p>See the <a href="#payment-intents">Payment Intents</a> section for complete documentation and integration examples.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">cURL</a>
          </div>
      </div>
    </div>
    <script src="javascripts/attributes-c9a984c9.js"></script>
  </body>
</html>
